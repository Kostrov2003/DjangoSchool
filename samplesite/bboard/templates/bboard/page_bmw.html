{% extends 'bboard/layout/basic.html' %}
{% load static %}

{% block title %}Автокульт - BMW{% endblock %}

{% block content %}
<style>
    .container {
        max-width: 1250px;
        margin: 0 auto;
        padding: 20px;
    }

    .header {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        padding-bottom: 20px;
    }

    .logo {
        width: 80px;
        height: auto;
    }

    .main-text {
        text-align: left;
        margin-top: 50px;
        font-size: 28px;
        color: #333;
    }

    .car-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 40px;
    }

    .car-item {
        display: flex;
        justify-content: space-between;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 15px;
        background-color: #f9f9f9;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .car-item-info {
        flex: 1;
        padding-right: 20px;
    }

    .car-item img {
        max-width: 200px;
        height: auto;
        object-fit: cover;
        border-radius: 8px;
    }

    .car-item strong {
        font-size: 18px;
        color: #222;
    }

    .car-item span {
        display: block;
        margin-top: 5px;
        color: #555;
    }
</style>

<div class="container">
    <div class="header">
        <img src="{% static 'img/bmwLogo.png' %}" alt="BMW" class="logo">
    </div>

    <div class="main-text">
        <p><b>Добро пожаловать на страницу автомобилей BMW!</b></p>
        <p>Здесь вы найдете широкий выбор моделей, воплощающих идеальное сочетание мощности, комфорта и передовых технологий.</p>
        <p>Каждый автомобиль BMW — это не просто транспортное средство, а выражение вашего стиля и стремления к совершенству.</p>
        <p>Исследуйте наши предложения и выберите свою идеальную машину BMW!</p>
    </div>

    <form method="get">
        <label for="model">Выберите модель:</label>
        <select name="model" id="model" onchange="this.form.submit()">
            <option value="">Все модели</option>
            {% for model in bmw_models %}
                <option value="{{ model.id }}" {% if model.id|stringformat:"s" == selected_model_id %}selected{% endif %}>
                    {{ model.name }}
                </option>
            {% endfor %}
        </select>
    </form>

    <div class="car-list">
        {% if bmw_cars %}
            {% for car in bmw_cars %}
                <div class="car-item">
                    <div class="car-item-info">
                        <strong>{{ car.model.brand }} {{ car.model.name }}</strong>
                        <span>Год: {{ car.year }}</span>
                        <span>Пробег: {{ car.mileage }} км</span>
                        <span>Цена: {{ car.price }} ₽</span>
                    </div>
                    {% if car.image %}
                        <img src="{{ car.image.url }}" alt="Фото {{ car.model.name }}">
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p>Машины BMW сейчас отсутствуют в наличии.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
